1719582952
waR3U4bTeM%3Ad87c8079a034640948075c79a55983eb-0a07ae4f333cd56b6a0c1a2c323b884d
s:21252:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjBhMDdhZTRmMzMzY2Q1NmI2YTBjMWEyYzMyM2I4ODRkIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6MTA6ImNyZWF0ZS5waHAiO3M6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAcGF0aCI7czoxNzoid2ViZGlyL2NyZWF0ZS5waHAiO3M6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAc291cmNlIjtzOjE1MDQzOiI8P3BocAovLyByZXF1aXJlIHRoZSBjb21tb24ucGhwIHN0dWZmCnJlcXVpcmUgJ2NvbW1vbi5waHAnOwovLyBpbmNsdWRlIHRoZSB1cGxvYWQgZnVuY3Rpb24KcmVxdWlyZSAndXBsb2FkLnBocCc7Ci8vIHByb2Nlc3MgdGhlIGZvcm0gaWYgaXQgd2FzIHNlbnQKCmlmICghaXNzZXQoJF9TRVNTSU9OWydJRCddKSl7CiAgICBoZWFkZXIoIkxvY2F0aW9uOiAva29udG8ucGhwIik7Cn0KaWYoJF9QT1NUKSB7CiAgICBpZiAoCiAgICAgICAgJF9QT1NUWyduYW1lJ10gPT0gTlVMTCB8fCAKICAgICAgICAkX1BPU1RbJ2Rlc2MnXSA9PSBOVUxMIHx8IAogICAgICAgICRfUE9TVFsnY2F0ZWdvcnknXSA9PSBOVUxMIHx8IAogICAgICAgICRfUE9TVFsnaW5ncmVkaWVudCddID09IE5VTEwgfHwgCiAgICAgICAgJF9QT1NUWyd0YWdzJ10gPT0gTlVMTCB8fCAKICAgICAgICAkX1BPU1RbJ2NvdW50cnknXSA9PSBOVUxMCiAgICApIHsKICAgICAgICBleGl0X3dpdGhfYmFkX3JlcXVlc3QoKTsKICAgIH0KICAgIC8vIFBPU1QgdG8gbm9ybWFsIHN0dWZmCiAgICAkbmFtZSA9ICRfUE9TVFsnbmFtZSddOwogICAgJG5hbWUgPSAoJG5hbWUpOwogICAgJGRlc2MgPSAkX1BPU1RbJ2Rlc2MnXTsKICAgICRkZXNjID0gKCRkZXNjKTsKICAgIC8vIGRlY29kZSB0YWdpZnkganNvbiBzdHJpbmdzCiAgICAkY2F0ZWdvcmllcyA9IChhcnJheV9jb2x1bW4oanNvbl9kZWNvZGUoJF9QT1NUWydjYXRlZ29yeSddKSwgJ3ZhbHVlJykpOwogICAgJGluZ3JlZGllbnRzID0gKGFycmF5X2NvbHVtbihqc29uX2RlY29kZSgkX1BPU1RbJ2luZ3JlZGllbnQnXSksICd2YWx1ZScpKTsKICAgICR0YWdzID0gKGFycmF5X2NvbHVtbihqc29uX2RlY29kZSgkX1BPU1RbJ3RhZ3MnXSksICd2YWx1ZScpKTsKICAgICRjb3VudHJ5ID0gKGFycmF5X2NvbHVtbihqc29uX2RlY29kZSgkX1BPU1RbJ2NvdW50cnknXSksICd2YWx1ZScpKTsKICAgIGlmICgKICAgICAgICAkdGFncyA9PSBOVUxMIHx8CiAgICAgICAgJGluZ3JlZGllbnRzID09IE5VTEwgfHwKICAgICAgICAkY2F0ZWdvcmllcyA9PSBOVUxMIHx8CiAgICAgICAgY291bnQoJGNhdGVnb3JpZXMpID4gMjAgfHwKICAgICAgICAkY291bnRyeSA9PSBOVUxMIHx8CiAgICAgICAgY291bnQoJGNvdW50cnkpICE9IDEgfHwKICAgICAgICB0ZXN0X2Zvcl9iYWRfY2hhcnNfYXJyYXkoJGNhdGVnb3JpZXMpIHx8CiAgICAgICAgdGVzdF9mb3JfYmFkX2NoYXJzX2FycmF5KCRpbmdyZWRpZW50cykgfHwKICAgICAgICB0ZXN0X2Zvcl9iYWRfY2hhcnNfYXJyYXkoJHRhZ3MpIHx8CiAgICAgICAgdGVzdF9mb3JfYmFkX2NoYXJzX2FycmF5KCRjb3VudHJ5KSB8fAogICAgICAgIHRlc3RfZm9yX2JhZF9jaGFycygkbmFtZSkgfHwKICAgICAgICB0ZXN0X2Zvcl9iYWRfY2hhcnMoJGRlc2MpCiAgICApIHsKICAgICAgICBleGl0X3dpdGhfYmFkX3JlcXVlc3QoKTsKICAgIH0KCiAgICBpZiAoKGlzc2V0KCRfRklMRVNbJ2ZpbGVUb1VwbG9hZCddWyduYW1lJ10pKSAmJiAoISRfRklMRVNbJ2ZpbGVUb1VwbG9hZCddWyd0bXBfbmFtZSddID09IE5VTEwpKSB7CiAgICAgICAgJGZpbGVuYW1lID0gdXBsb2FkX2ltZygkX0ZJTEVTKTsKICAgICAgICBpZiAoJGZpbGVuYW1lID09ICJFUlJPUiIgfHwgJGZpbGVuYW1lID09IE5VTEwpIHsKICAgICAgICAgICAgZXhpdF93aXRoX2JhZF9yZXF1ZXN0KCk7CiAgICAgICAgfQogICAgfQogICAgZWxzZSB7CiAgICAgICAgJGZpbGVuYW1lID0gTlVMTDsKICAgIH0KICAgICRjb25uID0gbmV3IERhdGFiYXNlQ29ubmVjdGlvbigkaW5pX2FycmF5KTsKICAgIC8vIGdldCB0aGUgdXVpZCBhcyBhIHZhciwgc28gd2UgY2FuIHVzZSBpdCBhZnRlciB0aGUgaW5pdGlhbCB0aGluZyBpcyBjcmVhdGVkIHRvIGNyZWF0ZSBpdHMKICAgIC8vIHJlbGF0aW9uc2hpcHMuCiAgICAkdXVpZCA9ICRjb25uIC0+cXVlcnlfZGF0YWJhc2UoIlNFTEVDVCBVVUlEKCk7IiktPmZldGNoX3JvdygpWzBdOwoKCiAgICAvLyBnZXQgdGhlIGNvdW50cnkgSUQKICAgICRjb3VudHJ5ID0gJGNvbm4tPmdldF9jb3VudHJ5X2J5X25hbWUoJGNvdW50cnlbMF0pOwogICAgaWYgKCRjb3VudHJ5ID09IE5VTEwpIHsKICAgICAgICBleGl0X3dpdGhfYmFkX3JlcXVlc3QoKTsKICAgIH0KICAgIC8vIGNvdW50cnlbMF0gaXMgdGhlIElELgogICAgaWYgKCFpc3NldCgkY291bnRyeVswXSkgfHwgJGNvdW50cnlbMF0gPT0gTlVMTCkgewogICAgICAgIGV4aXRfd2l0aF9iYWRfcmVxdWVzdCgpOwogICAgfQoKICAgIC8vIGNyZWF0ZSBtYWluIGVudHJ5CiAgICAkc3RtdCA9ICRjb25uLT4gY29ubmVjdGlvbiAtPiBwcmVwYXJlKCIKICAgICAgICBJTlNFUlQgSU5UTyBgcmVjaXBpZWAgKGB0aXRsZWAsIGBjb3VudHJ5YCwgYGltYWdlX3BhdGhgLCBgZGVzY3JpcHRpb25gLCBgaWRgLCBgc2NvcmVgLCBgc2x1Z2ApIAogICAgICAgIFZBTFVFUyAKICAgICAgICAoCiAgICAgICAgICAgID8sIAogICAgICAgICAgICA/LCAKICAgICAgICAgICAgPywgCiAgICAgICAgICAgID8sIAogICAgICAgICAgICA/LCAKICAgICAgICAgICAgJzAnLCAKICAgICAgICAgICAgPwogICAgICAgICk7CiAgICAiKTsKICAgICRzdG10IC0+IGJpbmRfcGFyYW0oInNzc3NzcyIsIAogICAgICAgICRuYW1lLAogICAgICAgIC8vIFRPRE8gYWRkIGNvdW50cnkgbG9va3VwIGFuZCB3cml0aW5nIHRvIGRiCiAgICAgICAgJGNvdW50cnlbMF0sCiAgICAgICAgJGZpbGVuYW1lLAogICAgICAgICRkZXNjLAogICAgICAgICR1dWlkLAogICAgICAgICR1dWlkLAogICAgKTsKCiAgICAkcmVzdWx0ID0gJHN0bXQgLT4gZXhlY3V0ZSgpOwoKICAgIC8vIG1hcCB0aGUgY2F0ZWdvcnkKICAgIGZvcmVhY2ggKCRjYXRlZ29yaWVzIGFzICRjYXQpIHsKICAgICAgICAkY2F0ID0gJGNvbm4tPmdldF9jYXRlZ29yeV9ieV9uYW1lKCRjYXQpOwogICAgICAgIGlmICgkY2F0ID09IE5VTEwpIHsKICAgICAgICAgICAgZXhpdF93aXRoX2JhZF9yZXF1ZXN0KCk7CiAgICAgICAgfQogICAgICAgIC8vIGNhdFswXSBpcyB0aGUgSUQuCiAgICAgICAgaWYgKCFpc3NldCgkY2F0WzBdKSB8fCAkY2F0WzBdID09IE5VTEwpIHsKICAgICAgICAgICAgZXhpdF93aXRoX2JhZF9yZXF1ZXN0KCk7CiAgICAgICAgfQogICAgICAgICRzdG10ID0gJGNvbm4tPiBjb25uZWN0aW9uIC0+IHByZXBhcmUoIgogICAgICAgICAgICBJTlNFUlQgSU5UTyBgcmVjaXBpZV9jYXRlZ29yeWAgKGBJRGAsIGByZWNpcGllYCwgYGNhdGVnb3J5YCkKICAgICAgICAgICAgVkFMVUVTIAogICAgICAgICAgICAoCiAgICAgICAgICAgICAgICBOVUxMLCAKICAgICAgICAgICAgICAgID8sIAogICAgICAgICAgICAgICAgPwogICAgICAgICAgICApOwogICAgICAgICIpOwogICAgICAgICRlc2NhcGVkID0gJGNhdFswXTsKICAgICAgICAkZXNjYXBlZCA9IGVzY2FwZV9uZXdsaW5lcygkZXNjYXBlZCk7CiAgICAgICAgJHN0bXQgLT4gYmluZF9wYXJhbSgic3MiLCAKICAgICAgICAgICAgJHV1aWQsCiAgICAgICAgICAgICRlc2NhcGVkCiAgICAgICAgKTsKICAgICAgICAkcmVzdWx0ID0gJHN0bXQgLT4gZXhlY3V0ZSgpOwogICAgICAgICRzdG10LT5jbG9zZSgpOwogICAgfQoKCiAgICAvLyBtYXAgdGhlIGluZ3JlZGllbnRzCiAgICBmb3JlYWNoICgkaW5ncmVkaWVudHMgYXMgJGluZykgewogICAgICAgICRpbmcgPSAkY29ubi0+Z2V0X29yX2NyZWF0ZV9pbmdyZWRpZW50X2J5X25hbWUoJGluZyk7CiAgICAgICAgaWYgKCRpbmcgPT0gTlVMTCkgewogICAgICAgICAgICBleGl0X3dpdGhfYmFkX3JlcXVlc3QoKTsKICAgICAgICB9CiAgICAgICAgLy8gaW5nWzBdIGlzIHRoZSBJRC4KICAgICAgICBpZiAoIWlzc2V0KCRpbmdbMF0pIHx8ICRpbmdbMF0gPT0gTlVMTCkgewogICAgICAgICAgICBleGl0X3dpdGhfYmFkX3JlcXVlc3QoKTsKICAgICAgICB9CiAgICAgICAgJHN0bXQgPSAkY29ubi0+IGNvbm5lY3Rpb24gLT4gcHJlcGFyZSgiCiAgICAgICAgICAgIElOU0VSVCBJTlRPIGByZWNpcGllX2luZ3JlZGllbnRgIChgSURgLCBgcmVjaXBpZWAsIGBpbmdyZWRpZW50YCkKICAgICAgICAgICAgVkFMVUVTIAogICAgICAgICAgICAoCiAgICAgICAgICAgICAgICBOVUxMLCAKICAgICAgICAgICAgICAgID8sIAogICAgICAgICAgICAgICAgPwogICAgICAgICAgICApOwogICAgICAgICIpOwogICAgICAgICRlc2NhcGVkID0gJGluZ1swXTsKICAgICAgICAkZXNjYXBlZCA9IGVzY2FwZV9uZXdsaW5lcygkZXNjYXBlZCk7CiAgICAgICAgJHN0bXQgLT4gYmluZF9wYXJhbSgic3MiLCAKICAgICAgICAgICAgJHV1aWQsCiAgICAgICAgICAgICRlc2NhcGVkCiAgICAgICAgKTsKICAgICAgICAkcmVzdWx0ID0gJHN0bXQgLT4gZXhlY3V0ZSgpOwogICAgICAgICRzdG10LT5jbG9zZSgpOwogICAgfQoKICAgIC8vIG1hcCB0aGUgdGFncwogICAgZm9yZWFjaCAoJHRhZ3MgYXMgJHRhZykgewogICAgICAgICR0YWcgPSAkY29ubi0+Z2V0X29yX2NyZWF0ZV90YWdfYnlfbmFtZSgkdGFnKTsKICAgICAgICBpZiAoJHRhZyA9PSBOVUxMKSB7CiAgICAgICAgICAgIGV4aXRfd2l0aF9iYWRfcmVxdWVzdCgpOwogICAgICAgIH0KICAgICAgICAvLyB0YWdbMF0gaXMgdGhlIElELgogICAgICAgIGlmICghaXNzZXQoJHRhZ1swXSkgfHwgJHRhZ1swXSA9PSBOVUxMKSB7CiAgICAgICAgICAgIGV4aXRfd2l0aF9iYWRfcmVxdWVzdCgpOwogICAgICAgIH0KICAgICAgICAkc3RtdCA9ICRjb25uLT4gY29ubmVjdGlvbiAtPiBwcmVwYXJlKCIKICAgICAgICAgICAgSU5TRVJUIElOVE8gYHJlY2lwaWVfdGFnYCAoYElEYCwgYHJlY2lwaWVgLCBgdGFnYCkKICAgICAgICAgICAgVkFMVUVTIAogICAgICAgICAgICAoCiAgICAgICAgICAgICAgICBOVUxMLCAKICAgICAgICAgICAgICAgID8sIAogICAgICAgICAgICAgICAgPwogICAgICAgICAgICApOwogICAgICAgICIpOwogICAgICAgICRlc2NhcGVkID0gJHRhZ1swXTsKICAgICAgICAkZXNjYXBlZCA9IGVzY2FwZV9uZXdsaW5lcygkZXNjYXBlZCk7CiAgICAgICAgJHN0bXQgLT4gYmluZF9wYXJhbSgic3MiLCAKICAgICAgICAgICAgJHV1aWQsCiAgICAgICAgICAgICRlc2NhcGVkCiAgICAgICAgKTsKICAgICAgICAkcmVzdWx0ID0gJHN0bXQgLT4gZXhlY3V0ZSgpOwogICAgICAgICRzdG10LT5jbG9zZSgpOwogICAgfQoKICAgIC8vIG1hcCB0aGUgY291bnRyeQogICAgJHN0bXQgPSAkY29ubi0+IGNvbm5lY3Rpb24gLT4gcHJlcGFyZSgiCiAgICAgICAgSU5TRVJUIElOVE8gYHJlY2lwaWVfY291bnRyeWAgKGBJRGAsIGByZWNpcGllYCwgYGNvdW50cnlgKQogICAgICAgIFZBTFVFUyAKICAgICAgICAoCiAgICAgICAgICAgIE5VTEwsIAogICAgICAgICAgICA/LCAKICAgICAgICAgICAgPwogICAgICAgICk7CiAgICAiKTsKICAgICRlc2NhcGVkID0gJGNvdW50cnlbMF07CiAgICAkZXNjYXBlZCA9IGVzY2FwZV9uZXdsaW5lcygkZXNjYXBlZCk7CiAgICAkc3RtdCAtPiBiaW5kX3BhcmFtKCJzcyIsIAogICAgICAgICR1dWlkLAogICAgICAgICRlc2NhcGVkCiAgICApOwogICAgJHJlc3VsdCA9ICRzdG10IC0+IGV4ZWN1dGUoKTsKICAgICRzdG10LT5jbG9zZSgpOwoKICAgIC8vIFVzZXIgbWFwcGluZwogICAgJHN0bXQgPSAkY29ubi0+IGNvbm5lY3Rpb24gLT4gcHJlcGFyZSgiCiAgICAgICAgSU5TRVJUIElOVE8gYHVzZXJfcmVjaXBpZWAgKGB1c2VyYCwgYHJlY2lwaWVgKQogICAgICAgIFZBTFVFUyAKICAgICAgICAoCiAgICAgICAgICAgID8sIAogICAgICAgICAgICA/CiAgICAgICAgKTsKICAgICIpOwogICAgJHN0bXQgLT4gYmluZF9wYXJhbSgiaXMiLCAKICAgICAgICAkX1NFU1NJT05bJ0lEJ10sCiAgICAgICAgJHV1aWQKICAgICk7CiAgICAkcmVzdWx0ID0gJHN0bXQgLT4gZXhlY3V0ZSgpOwogICAgJHN0bXQtPmNsb3NlKCk7CiAgICAKCiAgICAvLyBtYXAgdGhlIGNvdW50cnkKICAgICRzdG10ID0gJGNvbm4tPiBjb25uZWN0aW9uIC0+IHByZXBhcmUoIgogICAgICAgIElOU0VSVCBJTlRPIGByZWNpcGllX2NvdW50cnlgIChgSURgLCBgcmVjaXBpZWAsIGBjb3VudHJ5YCkKICAgICAgICBWQUxVRVMgCiAgICAgICAgKAogICAgICAgICAgICBOVUxMLCAKICAgICAgICAgICAgPywgCiAgICAgICAgICAgID8KICAgICAgICApOwogICAgIik7CiAgICAkZXNjYXBlZCA9ICRjb3VudHJ5WzBdOwogICAgJGVzY2FwZWQgPSBlc2NhcGVfbmV3bGluZXMoJGVzY2FwZWQpOwogICAgJHN0bXQgLT4gYmluZF9wYXJhbSgic3MiLCAKICAgICAgICAkdXVpZCwKICAgICAgICAkZXNjYXBlZAogICAgKTsKICAgICRyZXN1bHQgPSAkc3RtdCAtPiBleGVjdXRlKCk7CiAgICAkc3RtdC0+Y2xvc2UoKTsKCiAgICAkdXJsID0gJy9kZXRhaWwucGhwP3JlY2lwaWU9JyAuICR1dWlkOwogICAgaGVhZGVyKCJMb2NhdGlvbjoiLiAkdXJsKTsKICAgIGV4aXQ7Cn0KPz4KPCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImRlIj4KPGhlYWQ+CiAgICA8P3BocCByZXF1aXJlICd0ZW1wbGF0ZXMvaGVhZC5waHAnID8+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9AeWFpcmVvL3RhZ2lmeSI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9AeWFpcmVvL3RhZ2lmeS9kaXN0L3RhZ2lmeS5wb2x5ZmlsbHMubWluLmpzIj48L3NjcmlwdD4KICAgIDxsaW5rIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vQHlhaXJlby90YWdpZnkvZGlzdC90YWdpZnkuY3NzIiByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiAvPgo8L2hlYWQ+Cjxib2R5PgogICAgPD9waHAgcmVxdWlyZSAndGVtcGxhdGVzL2hlYWRlci5waHAnID8+CiAgICA8bWFpbj4KICAgICAgICA8P3BocCByZXF1aXJlICd0ZW1wbGF0ZXMvaGVyby5waHAnIC8vIGxvYWQgdGhlIHNlYXJjaCBiYXIgYW5kIHNvIG9uID8+CiAgICAgICAgPHNlY3Rpb24gY2xhc3M9InJlY2lwaWUtY3JlYXRvci1jb250YWluZXIgcm93IGNvbnRhaW5lci1mbHVpZCI+CiAgICAgICAgICAgIDxmb3JtIGNsYXNzPSJmb3JtLWdyb3VwIiBtZXRob2Q9InBvc3QiIGFjdGlvbj0iY3JlYXRlLnBocCIgZW5jdHlwZT0ibXVsdGlwYXJ0L2Zvcm0tZGF0YSI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIteHhsIj4KICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3M9ImgtNSI+UmV6ZXB0IGVyc3RlbGxlbjwvaDI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLTMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIiBmb3I9ImltZy11cGxvYWQiPkJpbGQ8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBpZD0idXBsb2FkLWRpc3BsYXkiIHNyYz0iaW1nL2ljb25zL2VtcHR5X3BsYXRlLmpwZyIgYWx0PSJ0aHVtYm5haWwiIHN0eWxlPSJtaW4td2lkdGg6IDIwMHB4OyIgY2xhc3M9Im0tMyBwYi0zIGltZy1mbHVpZCI+PC9pbWc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9ImZvcm0tY29udHJvbCJ0eXBlPSJmaWxlIiBuYW1lPSJmaWxlVG9VcGxvYWQiIHN0eWxlPSJtaW4td2lkdGg6IDIwMHB4OyIgaWQ9ImZpbGVUb1VwbG9hZCIgb25jaGFuZ2U9ImxvYWRGaWxlKGV2ZW50KSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2NyaXB0PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGxvYWRGaWxlKGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJETyBTT01FVEhJTkciKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwbG9hZC1kaXNwbGF5Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5zcmM9VVJMLmNyZWF0ZU9iamVjdFVSTChldmVudC50YXJnZXQuZmlsZXNbMF0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2NyaXB0PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZy0xIj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIGNvbCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiZm9yPSJuYW1lIj5OYW1lPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz0iZm9ybS1jb250cm9sIiB0eXBlPSJ0ZXh0IiBpZD0ibmFtZSIgbmFtZT0ibmFtZSIgcGxhY2Vob2xkZXI9Ik5hbWUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsImZvcj0iZGVzYy1ib3giPkJlc2NocmVpYnVuZzwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgbmFtZT0iZGVzYyIgaWQ9ImRlc2MtYm94IiBwbGFjZWhvbGRlcj0iQmVzY2hyZWlidW5nIGRlcyBSZXplcHRzIiBjbGFzcz0iZm9ybS1jb250cm9sIj48L3RleHRhcmVhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIHJvdyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sIG14LWF1dG8iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiZm9yPSJ0YWdzIj5UYWdzOjwvbGFiZWw+PGJyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InRhZ3MiIHBsYWNlaG9sZGVyPSJUYWdzIiBuYW1lPSJ0YWdzIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wgbXgtYXV0byI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCJmb3I9ImluZ3JlZGllbnQiPlp1dGF0ZW46PC9sYWJlbD48YnI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iaW5ncmVkaWVudCIgcGxhY2Vob2xkZXI9Ilp1dGF0ZW4iIG5hbWU9ImluZ3JlZGllbnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbCBteC1hdXRvIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsImZvcj0iY2F0ZWdvcnkiPkthdGVnb3JpZTo8L2xhYmVsPjxicj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPSJjYXRlZ29yeSIgcGxhY2Vob2xkZXI9IkthdGVnb3JpZSIgbmFtZT0iY2F0ZWdvcnkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJvcGV0aW9ucy1mb3ItY2F0ZWdvcnkiIGNsYXNzPSJ0YWdpZnktb3B0aW9uLWNob29zZXIiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbCBteC1hdXRvIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsImZvcj0iY291bnRyeSI+TGFuZDo8L2xhYmVsPjxicj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPSJjb3VudHJ5IiBwbGFjZWhvbGRlcj0iTGFuZCIgbmFtZT0iY291bnRyeSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9Im9wZXRpb25zLWZvci1jb3VudHJ5IiBjbGFzcz0idGFnaWZ5LW9wdGlvbi1jaG9vc2VyIj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJmb3JtLWNvbnRyb2widHlwZT0ic3VibWl0IiB2YWx1ZT0iRXJzdGVsbGVuIj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8c2NyaXB0PgogICAgICAgICAgICAgICAgICAgIHZhciB0YWdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT10YWdzXScpOwogICAgICAgICAgICAgICAgICAgIHZhciBpbmdyZWRpZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1pbmdyZWRpZW50XScpOwoKICAgICAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplIFRhZ2lmeSBvbiB0aGUgYWJvdmUgaW5wdXQgY2xhc3M9ImZvcm0tY29udHJvbCJub2RlIHJlZmVyZW5jZQogICAgICAgICAgICAgICAgICAgIG5ldyBUYWdpZnkodGFncykKICAgICAgICAgICAgICAgICAgICBuZXcgVGFnaWZ5KGluZ3JlZGllbnQpCgogICAgICAgICAgICAgICAgICAgIHZhciBjYXRlZ29yeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9Y2F0ZWdvcnknKSwKICAgICAgICAgICAgICAgICAgICAvLyBpbml0IFRhZ2lmeSBzY3JpcHQgb24gdGhlIGFib3ZlIGlucHV0cwogICAgICAgICAgICAgICAgICAgIHRhZ2lmeSA9IG5ldyBUYWdpZnkoY2F0ZWdvcnksIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpdGVsaXN0IDogWzw/cGhwIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvbm4gPSBuZXcgRGF0YWJhc2VDb25uZWN0aW9uKCRpbmlfYXJyYXkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdG10ID0gJGNvbm4tPiBjb25uZWN0aW9uIC0+IHByZXBhcmUoIlNFTEVDVCAqIEZST00gY2F0ZWdvcnkiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyZXN1bHQgPSAkc3RtdCAtPiBleGVjdXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcmVzdWx0ID0gJHN0bXQgLT4gZ2V0X3Jlc3VsdCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3dzID0gJHJlc3VsdC0+ZmV0Y2hfYWxsKE1ZU1FMSV9BU1NPQyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JlYWNoICgkcm93cyBhcyAkcm93KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAiXCIiIC4gJHJvd1snbmFtZSddIC4gIlwiLCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgID8+XSwKICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd246IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAibWFudWFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEl0ZW1zOiBJbmZpbml0eSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc25hbWU6ICJjdXN0b21TdWdnZXN0aW9uc0xpc3QiCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd25JdGVtTm9NYXRjaCgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYDxkaXYgY2xhc3M9J2VtcHR5Jz5Ob3RoaW5nIEZvdW5kPC9kaXY+YDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgbWF4VGFnczogMjAsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZm9yY2VXaGl0ZWxpc3Q6IHRydWUKICAgICAgICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgICAgICAgICB0YWdpZnkuZHJvcGRvd24uc2hvdygpIC8vIGxvYWQgdGhlIGxpc3QKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3BldGlvbnMtZm9yLWNhdGVnb3J5IikuYXBwZW5kQ2hpbGQodGFnaWZ5LkRPTS5kcm9wZG93bikKCiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50cnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWNvdW50cnknKSwKICAgICAgICAgICAgICAgICAgICAvLyBpbml0IFRhZ2lmeSBzY3JpcHQgb24gdGhlIGFib3ZlIGlucHV0cwogICAgICAgICAgICAgICAgICAgIHRhZ2lmeSA9IG5ldyBUYWdpZnkoY291bnRyeSwgewogICAgICAgICAgICAgICAgICAgICAgICB3aGl0ZWxpc3QgOiBbPD9waHAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29ubiA9IG5ldyBEYXRhYmFzZUNvbm5lY3Rpb24oJGluaV9hcnJheSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0bXQgPSAkY29ubi0+IGNvbm5lY3Rpb24gLT4gcHJlcGFyZSgiU0VMRUNUICogRlJPTSBjb3VudHJ5Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcmVzdWx0ID0gJHN0bXQgLT4gZXhlY3V0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJlc3VsdCA9ICRzdG10IC0+IGdldF9yZXN1bHQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm93cyA9ICRyZXN1bHQtPmZldGNoX2FsbChNWVNRTElfQVNTT0MpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoJHJvd3MgYXMgJHJvdykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVjaG8gIlwiIiAuICRyb3dbJ25hbWUnXSAuICJcIiwiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICA/Pl0sCiAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogIm1hbnVhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhJdGVtczogSW5maW5pdHksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NuYW1lOiAiY3VzdG9tU3VnZ2VzdGlvbnNMaXN0IgogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duSXRlbU5vTWF0Y2goKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPSdlbXB0eSc+Tm90aGluZyBGb3VuZDwvZGl2PmA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIG1heFRhZ3M6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZm9yY2VXaGl0ZWxpc3Q6IHRydWUKICAgICAgICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgICAgICAgICB0YWdpZnkub24oImRyb3Bkb3duOnNob3ciLCBvblN1Z2dlc3Rpb25zTGlzdFVwZGF0ZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAub24oImRyb3Bkb3duOmhpZGUiLCBvblN1Z2dlc3Rpb25zTGlzdEhpZGUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uKCdkcm9wZG93bjpzY3JvbGwnLCBvbkRyb3Bkb3duU2Nyb2xsKQoKICAgICAgICAgICAgICAgICAgICB0YWdpZnkuZHJvcGRvd24uc2hvdygpIC8vIGxvYWQgdGhlIGxpc3QKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3BldGlvbnMtZm9yLWNvdW50cnkiKS5hcHBlbmRDaGlsZCh0YWdpZnkuRE9NLmRyb3Bkb3duKQoKICAgICAgICAgICAgICAgICAgICAvLyBFUzIwMTUgYXJndW1lbnQgZGVzdHJ1Y3R1cmluZwogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uU3VnZ2VzdGlvbnNMaXN0VXBkYXRlKHsgZGV0YWlsOnN1Z2dlc3Rpb25zRWxtIH0pewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyggIHN1Z2dlc3Rpb25zRWxtICApCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBvblN1Z2dlc3Rpb25zTGlzdEhpZGUoKXsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImhpZGUgZHJvcGRvd24iKQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gb25Ecm9wZG93blNjcm9sbChlKXsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZS5kZXRhaWwpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2FybmluZyA9IChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBtb3N0IGJyb3dzZXJzLCBqdXN0IHRoZSBmb2xsb3dpbmcgbGluZSBpcyBzdWZmaWNpZW50OgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEFyZSB5b3Ugc3VyZT9gOwogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGBiZWZvcmV1bmxvYWRgLCB3YXJuaW5nKTsKCiAgICAgICAgICAgICAgICA8L3NjcmlwdD4KICAgICAgICAgICAgPC9mb3JtPgogICAgICAgIDwvc2VjdGlvbj4KICAgICAgICA8P3BocCByZXF1aXJlICd0ZW1wbGF0ZXMvZmVhdHVyZWQtcmVjaXBpZXMucGhwJyAvLyBzaG93IHBvcHVsYXIgPz4KICAgIDwvbWFpbj4KICAgIDxmb290ZXI+CiAgICA8P3BocCByZXF1aXJlICd0ZW1wbGF0ZXMvZm9vdGVyLnBocCcgPz4KICAgIDwvZm9vdGVyPgo8L2JvZHk+CjwvaHRtbD4KIjtzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWVzcGFjZXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW5jbHVkZXMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZnVuY3Rpb25zIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNvbnN0YW50cyI7YTowOnt9czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjbGFzc2VzIjthOjA6e31zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGludGVyZmFjZXMiO2E6MDp7fXM6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAdHJhaXRzIjthOjA6e31zOjQwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGVudW1zIjthOjA6e31zOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG1ldGFkYXRhIjthOjA6e319";